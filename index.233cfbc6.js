function t(t,e){const n=document.createElement("div"),a=document.createElement("div"),{title:d,description:o}=function(t=0){const e=document.createElement("h2"),n=document.createElement("p"),a=document.createElement("span");e.classList.add("end__title"),n.classList.add("end__description"),a.classList.add("clicker"),t?(e.textContent="Поздравляю!",n.textContent="Количество открытых карт:",a.textContent=t,n.append(a)):(e.textContent="Конец игры",n.textContent="Время вышло, попробуйте снова");return{title:e,description:n}}(t),s=function(){const t=document.createElement("button");return t.classList.add("modal__start-btn"),t.textContent="Начать новую игру",t}();return n.classList.add("modal"),a.classList.add("modal__container"),a.append(d,o,s),n.append(a),s.addEventListener("click",(()=>{n.remove(),e()})),n}function e(t,e,n){const a=document.createElement("div"),d=document.createElement("div"),{title:o,description:s}=function(){const t=document.createElement("h2"),e=document.createElement("p");return t.classList.add("modal__title"),e.classList.add("modal__description"),t.textContent='Игра в "Пары"',e.textContent="Выберите размер поля: ",{title:t,description:e}}(),{optionsWrapper:c,prevBtn:r,outputField:i,nextBtn:l}=function(t="4x4"){const e=document.createElement("div"),n=document.createElement("button"),a=document.createElement("button"),d=document.createElement("p");return e.classList.add("modal__options_wrapper"),n.classList.add("modal__options_prev-btn"),a.classList.add("modal__options_next-btn"),d.classList.add("modal__options_output"),n.textContent="Меньше",a.textContent="Больше",d.textContent=t,e.append(n,d,a),{optionsWrapper:e,prevBtn:n,outputField:d,nextBtn:a}}(e),m=function(){const t=document.createElement("button");return t.classList.add("modal__start-btn"),t.textContent="Начать игру",t}();a.classList.add("modal"),d.classList.add("modal__container");const u=Object.keys(t);let p=u.indexOf(e);return c.addEventListener("click",(t=>{t.target===l?(i.textContent=u[++p],l.disabled=p===u.length-1,r.disabled=!1):t.target===r&&(i.textContent=u[--p],r.disabled=0===p,l.disabled=!1)})),m.addEventListener("click",(()=>{a.style.display="none",a.remove(),n(t[u[p]])})),d.append(o,s,c,m),a.append(d),a}const n={"2x2":4,"4x4":16,"6x6":36,"8x8":64,"10x10":100},a={4:5e3,16:6e4,36:9e4,64:12e4,100:18e4};class d{constructor(t){this.element=this.toDOMELement(t),this.name=this.element.dataset.name,this.value=this.element.dataset.value}open(){this.element.firstChild.hidden=!1,this.element.classList.add("_open")}close(){this.element.firstChild.hidden=!0,this.element.classList.remove("_open")}toDOMELement(t){const e=document.createElement("div"),n=document.createElement("span");return n.textContent=t,n.hidden=!0,e.classList.add("game__card"),n.classList.add("game__card-body"),e.setAttribute("data-name","card"),e.setAttribute("data-value",t),e.append(n),e}}function o(){const t=new DocumentFragment,e=function(){const t=document.createElement("h1");return t.classList.add("game__title"),t.textContent='Игра в "Пары"',t}(),n=function(){const t=document.createElement("p");return t.classList.add("game__description"),t.textContent="За отведенное время, найдите по две карты с одинаковыми значениями",t}();return t.append(e,n),t}function s(t,e){const{timer:n,timeCounter:d,resetBtn:o}=function(t){const e=document.createElement("div"),n=document.createElement("p"),d=document.createElement("span"),o=document.createElement("button");return e.classList.add("timer__wrapper"),n.classList.add("timer__label"),d.classList.add("time__counter"),o.classList.add("reset-button"),n.textContent="Осталось времени: ",o.textContent="Начать новую игру",d.textContent=a[t]/1e3,e.append(n),n.append(d),e.append(o),{timer:e,timeCounter:d,resetBtn:o}}(t),s=e.renderBeginGame||(()=>{}),c=e.renderEndGame||(()=>{});let r=setInterval((()=>{--d.textContent,0==d.textContent&&(clearInterval(r),c())}),1e3);return o.addEventListener("click",(()=>{clearInterval(r),s()})),{timer:n,timerInterval:r}}function c(t){const e=function(t){const e=[];for(let n=0;n<t;n++)e.push(n%(t/2)+1);return e}(t);var n;return n=e,[...n].reduceRight(((t,e,n,a)=>{let d=Math.floor(Math.random()*(n+1));if(a[d])return[...t,...a.splice(d,1)]}),[])}function r(t){const e=document.querySelector("#app"),n=o(),a=function(t){const e=document.createElement("div");return e.classList.add("game__table"),e.style.gridTemplateColumns=`repeat(${Math.sqrt(t)}, 1fr)`,e}(t),r={renderBeginGame:i,renderEndGame:l},m=c(t).map((t=>new d(t))),{timer:u,timerInterval:p}=s(t,r),_=[];let L,E=0;e.innerHTML="",a.addEventListener("click",(e=>{const n=e.target.closest('[data-name="card"');if(!n)return;if(n.classList.contains("_open"))return;const a=m.find((({element:t})=>t.isSameNode(n)));2===_.length&&(_[0].value===_[1].value||_.forEach((t=>t.close())),_.splice("")),_.push(a),a.open(),++E,L=document.querySelectorAll("._open").length,L===t&&(clearInterval(p),l(E))})),function(t,e){t.forEach((({element:t})=>e.append(t)))}(m,a),e.append(n,a,u)}function i(){const t=document.querySelector("#app"),a=e(n,"4x4",r);t.append(a)}function l(e){const n=t(e,i);document.body.append(n)}document.addEventListener("DOMContentLoaded",(()=>{i()}));
//# sourceMappingURL=index.233cfbc6.js.map
